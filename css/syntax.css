/* Syntax Highlighting for Pandoc/Hakyll */
:root {
  --syn-bg: var(--code-bg, #f3f6fb);
  --syn-fg: var(--code-text, #253140);
  --syn-border: var(--code-border, #c3ccda);
  --syn-pad-y: 0.95rem;
  --syn-pad-x: 1.15rem;
  --syn-margin: 1.55rem;

  /* Token palette: light mode */
  --tok-kw: #34557a;      /* keyword/control/operator */
  --tok-fn: #2c6b86;      /* function/type */
  --tok-str: #2f7457;     /* strings/chars */
  --tok-num: #6a4a9f;     /* numbers/constants */
  --tok-cmt: #4f5f75;     /* comments/meta */
  --tok-err: #9d1f34;     /* errors */
  --tok-err-bg: #f3d7dd;
}

@media (prefers-color-scheme: dark) {
  :root {
    /* Token palette: dark mode */
    --tok-kw: #9fc0e3;
    --tok-fn: #90cadf;
    --tok-str: #9acfb1;
    --tok-num: #c4a9df;
    --tok-cmt: #aebbd0;
    --tok-err: #ff8ea4;
    --tok-err-bg: #52313a;
  }
}

/* Outer wrapper that pandoc commonly emits */
div.sourceCode {
  background: var(--syn-bg);
  border: 1px solid var(--syn-border);
  border-radius: 0;
  box-shadow: none;
  margin: var(--syn-margin) 0;
}

/* Fallback: plain pre.sourceCode without wrapper */
pre.sourceCode {
  background: var(--syn-bg);
  color: var(--syn-fg);
  border: 1px solid var(--syn-border);
  border-radius: 0;
  margin: var(--syn-margin) 0;
  padding: var(--syn-pad-y) var(--syn-pad-x);
  overflow: auto;
  font-family: 'JetBrains Mono', monospace;
  font-size: 1em;
  line-height: 1.66;
  white-space: pre;
  word-break: normal;
}

/* Wrapped variant: keep wrapper border, inner block transparent */
div.sourceCode > pre.sourceCode {
  margin: 0;
  border: 0;
  border-radius: 0;
  background: transparent;
  color: var(--syn-fg);
  padding: var(--syn-pad-y) var(--syn-pad-x);
  overflow: auto;
  font-family: 'JetBrains Mono', monospace;
  font-size: 1em;
  line-height: 1.66;
  white-space: pre;
  word-break: normal;
}

/* Ensure code glyphs stay upright and consistent */
code.sourceCode,
code.sourceCode > span,
pre.sourceCode code,
div.sourceCode pre,
div.sourceCode pre code {
  font-family: 'JetBrains Mono', monospace;
  font-style: normal;
}

code.sourceCode > span {
  color: inherit;
  text-decoration: inherit;
}

/* Token Classes */
.sourceCode .al,
.sourceCode .wa,
.sourceCode .cf,
.sourceCode .kw,
.sourceCode .op {
  color: var(--tok-kw);
  font-weight: 700;
}

.sourceCode .fu,
.sourceCode .dt,
.sourceCode .at,
.sourceCode .ex,
.sourceCode .ot,
.sourceCode .pp,
.sourceCode .va {
  color: var(--tok-fn);
}

.sourceCode .ch,
.sourceCode .st,
.sourceCode .ss,
.sourceCode .sc,
.sourceCode .vs,
.sourceCode .im {
  color: var(--tok-str);
}

.sourceCode .bn,
.sourceCode .dv,
.sourceCode .fl,
.sourceCode .cn {
  color: var(--tok-num);
}

.sourceCode .co,
.sourceCode .cv,
.sourceCode .do,
.sourceCode .in,
.sourceCode .an,
.sourceCode .bu {
  color: var(--tok-cmt);
}

.sourceCode .er {
  color: var(--tok-err);
  background: var(--tok-err-bg);
  text-decoration: none;
  font-weight: 600;
}
